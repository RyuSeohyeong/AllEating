<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
 "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
 
 <mapper namespace="com.spring.alleating.admin.order.dao.AdminOrderDAO">
  <resultMap id="orderResult" type="allEatingOrderVO">
		<result property="orderId" column="orderId" />
		<result property="id" column="id" />
		<result property="orderName" column="orderName" />
		<result property="orderHp" column="orderHp" />
		<result property="receiverName" column="receiverName" />
		<result property="receiverHp" column="receiverHp" />
		<result property="zipcode" column="zipcode" />
		<result property="address" column="address" />
		<result property="address2" column="address2" />
		<result property="addressDetail" column="addressDetail" />
		<result property="delivery_request" column="delivery_request" />
		<result property="userPoint" column="userPoint" />
		<result property="couponId" column="couponId" />
		<result property="totalPrice" column="totalPrice" />
		<result property="card_com_name" column="card_com_name" />
		<result property="card_pay_month" column="card_pay_month" />
		<result property="orderStatus" column="orderStatus" />
		<result property="payDate" column="payDate" />
		<result property="thunderDate" column="thunderDate" />
		<result property="thunderTime" column="thunderTime" />
		<result property="productName" column="productName" />
		<result property="cateCode" column="cateCode" />
        <result property="fileName" column="fileName" />
        <result property="productBrand" column="productBrand" />
        <result property="productId" column="productId" />
        
        <result property="productQty" column="productQty" />
        <result property="productPrice" column="productPrice" />
         <result property="productDiscount" column="productDiscount" />
        <result property="delivery_status" column="delivery_status" />
	</resultMap>
	
	<resultMap id="orderDetailResult" type="allEatingOrderDetailVO">
		<result property="order_seq_num" column="order_seq_num" />
		<result property="orderId" column="orderId" />
		<result property="productId" column="productId" />
		<result property="productPrice" column="productPrice" />
		<result property="productDiscount" column="productDiscount" />
		<result property="productQty" column="productQty" />
		<result property="cateCode" column="cateCode" />
		<result property="deliveryType" column="deliveryType" />
		<result property="delivery_status" column="delivery_status" />
		<result property="productName" column="productName" />
		<result property="fileName" column="fileName" />
		<result property="productBrand" column="productBrand" />
	</resultMap>
	<select id="selectAdminOrder" resultMap="orderResult">
	<![CDATA[
	select a.*, d.productId, d.productName, d.productQty, d.productBrand, d.productPrice, d.productDiscount ,d.delivery_status 
		from alleating_order a 
		inner join alleating_order_detail d 
		on a.orderId = d.orderId
		where d.deliveryType="reserve";
		]]>
	</select>
	<select id="adminOrderCount" resultType="int">
		<![CDATA[
		 select count(*) from alleating_order_detail where deliveryType="reserve"
		]]>
	</select>
	
</mapper>